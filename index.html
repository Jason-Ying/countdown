<html lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="icon" href="./assets/favicon.ico" type="image/x-icon">
	<script type="text/javascript" src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
	<title>沉浸式网课 | SESCountdown</title>
	<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
	<meta content="width=device-width,height=device-height,initial-scale=1,maximum-scale=1" name="viewport">
	<meta content="" name="keywords">
	<meta content="" name="description">
	<link href="./assets/layout/common.min.css" rel="stylesheet">
	<link href="./assets/layout/all.min.css" rel="stylesheet">
	<style>
		.modal-side {
			z-index: 1100;
			position: fixed;
			width: 20%;
			height: 100%;
			left: 0;
			top: 0;
			bottom: 0;
			background-color: white;
			overflow-y: auto;
			padding: 1rem;
		}

		.modal-side.widee {
			width: 23rem;
		}

		.modal-side.wide {
			width: 28rem;
		}

		.modal-side.widen{
			width: 15rem;
		}

		.cd-tabs {
			position: absolute;
			margin-top: 1rem;
			margin-left: 1rem;
		}

		.cd-tab {
			padding: 0.5rem;
			margin: 0.05rem;
			float: left;
		}

		.cd-tabs-right {
			position: absolute;
			right: 0;
			margin-top: 1rem;
			margin-right: 1rem;
		}

		.cd-tab-right {
			padding: 0.5rem;
			margin: 0.05rem;
			float: right;
		}

		.cd-tab-right.point {
			cursor: pointer;
		}

		.cd-tab:hover {
			cursor: pointer;
			border-radius: 0.2rem;
			background-color: lightgrey;
		}

		.cd-title {
			font-size: 5.5rem;
			color: red;
			white-space: pre;
		}

		.cd-descr {
			font-size: 2rem;
		}

		.cd-header {
			font-weight: 2;
		}

		.cd-time {
			font-size: 6.5rem;
			color: red;
			white-space: pre;
		}

		.cd-tabs-mid {
			font-size: 1.2rem;
			position: absolute;
			margin: auto;
			left: 0;
			right: 0;
			bottom: 15rem;
		}

		.cd-music {
			font-size: 1.2rem;
			position: absolute;
			margin: auto;
			left: 0;
			right: 0;
			bottom: 10rem;
		}

		.cd-footer {
			position: absolute;
			margin: auto;
			left: 0;
			right: 0;
			bottom: 1rem;
		}

		.tab-list {
			cursor: pointer;
			color: black;
			width: 100%;
			overflow: hidden;
			margin-bottom: 0.5rem;
			margin-left: 0.2rem;
		}

		.tab-listex {
			color: black;
			width: 100%;
			overflow: hidden;
			margin-bottom: 0.5rem;
			margin-left: 0.2rem;
		}

		.tab-list:hover {
			color: rgb(45, 45, 255);
		}

		.list-label {
			float: left;
			color: white;
			background-color: grey;
			border-radius: 0.2rem;
			padding: 0.2rem;
			font-size: 0.2rem;
			margin-right: 0.5rem;
		}

		.list-label.notin {
			background-color: grey;
		}

		.list-label.in {
			background-color: green;
		}

		.list-cont {
			left: 0;
			float: left;
		}

		.fa-times {
			cursor: pointer;
		}
	</style>
	<script>
		var _hmt = _hmt || [];
		(function () {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?dfc6d5d7efbfc2739c796040d80c5899";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
		})();
	</script>
</head>

<body>
	<div>
		<div id="cd-tab0" class="modal-side fade widen" style="display: none">
			<div id="event-no" class="text-center text-muted" style="display: none">暂无活动</div>
			<div class="tab-list" style="display: none">
				<!--example start-->
				<label class="list-label notin">未开始</label>
				<div class="list-cont">
					<b class="list-name">升旗仪式</b><br>
					<span class="list-time">每周一 08:51至09:30</span>
				</div>
			</div>
			<div class="tab-listex">
				<label class="list-label notin">置顶</label>
				<div class="list-cont">
					<b class="list-name">高一(6)班语文</b><br>
					<span class="list-time">670-551-675 300300</span>
				</div>
			</div>
			<div class="tab-listex">
				<label class="list-label notin">置顶</label>
				<div class="list-cont">
					<b class="list-name">高一(6)班政治</b><br>
					<span class="list-time">599-650-5652</span>
				</div>
			</div>
			<!--example end-->
		</div>
		<div id="cd-tab1" class="modal-side fade widee" style="display: none">
			<h3>v0.4</h3>
			<h4>v0.4.0</h4>
			<div class="py-2"><label class="list-label">修复</label>修复托管缓存导致的音乐播放问题</div>
			<div class="py-2"><label class="list-label">新增</label>新增回声洞功能</div>
			<div class="py-2"><label class="list-label">新增</label>新增暂时关闭音乐按钮</div>
			<div class="py-2"><label class="list-label">新增</label>新增单双周自动判断</div>
			<div class="py-2"><label class="list-label">新增</label>新增适配全校班级</div>
			<div class="py-2"><label class="list-label">新增</label>新增单次活动</div>
			<div class="py-2"><label class="list-label">新增</label>新增调色板页面，添加调色功能</div>
			<div class="py-2"><label class="list-label">新增</label>新增建议反馈入口</div>
			<div class="py-2"><label class="list-label">新增</label>新增引导按钮，提升使用体验</div>
			<div class="py-2"><label class="list-label">新增</label>新增右上角显示当前周</div>
			<div class="py-2"><label class="list-label">优化</label>优化初次加载时间至原20%左右，提升体验</div>
			<div class="py-2"><label class="list-label">优化</label>微调页面，降低交互性</div>
			<br><br>
			<h3>v0.3</h3>
			<h4>v0.3.4</h4>
			<div class="py-2"><label class="list-label">修复</label>修复音乐播放问题</div>
			<div class="py-2"><label class="list-label">新增</label>新增活动列表及更新日志</div>
			<div class="py-2"><label class="list-label">优化</label>布局调整，更简约美观</div>
			<div class="py-2"><label class="list-label">优化</label>解决浏览器自动播放问题</div>
			<br>
			<h4>v0.3.3~v0.3.0</h4>
			<div class="py-2"><label class="list-label">优化</label>我说优化就是优化</div>
			<br><br>
			<h3>v0.2</h3>
			<div class="py-2"><label class="list-label">修复</label>修复周期性问题</div>
			<div class="py-2"><label class="list-label">新增</label>添加全部音乐</div>
			<br><br>
			<h3>v0.1</h3>
			<div class="py-2"><label class="list-label">新增</label>基本框架</div>
		</div>
		<div id="cd-tab2" class="modal-side wide fade" style="display: none">
			<label>第1步. 调色界面，请忽略顶部导航并进行调色。</label>
			<iframe frameborder="0" src="https://www.shouce.ren/api/html/html4/tools-color_selector.html"
				scrolling="auto" width="100%" height="70%"></iframe>
			R <input id="cr" style="width: 28%" onchange=calcHtml()> G <input id="cg" style="width: 28%"
				onchange=calcHtml()> B <input id="cb" style="width: 30%" onchange=calcHtml()><br>
			HTML颜色代码 <input id="chtml" style="float: right">
			<hr>
			<label>第2步. 调色结束后，请复制“HTML颜色代码”输入框中全部内容，并根据需要输入下列输入框中；<br><i
					class="fa fa-exclamation-triangle"></i>也可直接输入颜色，如red。</label>
			<label>背景 Background </label><input id="cbg" type="text" onchange=updColor() style="float: right"><br>
			<label>科目 Subject </label><input id="csub" type="text" onchange=updColor() style="float: right"><br>
			<label>时间 Countdown </label><input id="ccd" type="text" onchange=updColor() style="float: right"><br>
			<label>文字 Text </label><input id="ctxt" type="text" onchange=updColor() style="float: right"><br>
			<input type="button" class="mt-1" style="width: 100%" value="确认" onclick=initColor()>
			<hr>
			<label>第3步. 如果您调出了满意的颜色并愿意分享，请填写以下匿名征集问卷。您的配色方案有几率被设为备选方案展示在网页上。</label>
			<iframe src='https://www.wjx.cn/vj/QEMEoS9.aspx?width=350&source=iframe&s=t' width='100%' height='110%'
				frameborder='0' style='overflow:auto'></iframe>
		</div>
		<div id="cd-tab3" class="modal-side widee fade" style="display: none">
			<iframe src='https://www.wjx.cn/vj/hII0nTS.aspx?width=350&source=iframe&s=t' width='100%' height='100%'
				frameborder='0' style='overflow:auto'></iframe>
		</div>
		<div id="cd-tab4" class="modal-side widee fade" style="display: none">
			<div class="form-group">
				<div class="row">
					<div id="tog-0" class="col-4 text-center tgl" onclick="toggle(0)">
						<i role="button" class="fa-2x fa fa-toggle-on text-muted"></i>
						<br>
						<i>预备铃</i>
					</div>
					<div id="tog-1" class="col-4 text-center tgl" onclick="toggle(1)">
						<i role="button" class="fa-2x fa fa-toggle-on text-muted"></i>
						<br>
						<i>上课铃</i>
					</div>
					<div id="tog-2" class="col-4 text-center tgl" onclick="toggle(2)">
						<i role="button" class="fa-2x fa fa-toggle-on text-muted"></i>
						<br>
						<i>下课铃</i>
					</div>
					<div id="tog-3" class="col-4 text-center tgl" onclick="toggle(3)">
						<i role="button" class="fa-2x fa fa-toggle-on text-muted"></i>
						<br>
						<i>眼保健操</i>
					</div>
					<div id="tog-4" class="col-4 text-center tgl" onclick="toggle(4)">
						<i role="button" class="fa-2x fa fa-toggle-on text-muted"></i>
						<br>
						<i>室内操</i>
					</div>
					<div id="tog-5" class="col-4 text-center tgl" onclick="toggle(5)">
						<i role="button" class="fa-2x fa fa-toggle-on text-muted"></i>
						<br>
						<i>广播体操</i>
					</div>
					<div id="tog-6" class="col-4 text-center tgl" onclick="toggle(6)">
						<i role="button" class="fa-2x fa fa-toggle-on text-muted"></i>
						<br>
						<i>Never Say Goodbye</i>
					</div>
				</div>
			</div>
		</div>
		<div id="cd-tabback" class="modal-backdrop fade" style="display: none"></div>
		<div class="cd-tabs">
			<div id="tab0" class="cd-tab"><i class="fa fa-podcast"></i> 活动</div>
			<div id="tab1" class="cd-tab"><i class="fa fa-bars"></i> 更新日志</div>
			<div id="tab2" class="cd-tab"><i class="fa fa-adjust"></i> 主题</div>
			<div id="tab3" class="cd-tab"><i class="fa fa-comments"></i> 意见反馈</div>
		</div>
		<div class="cd-tabs-right text-center">
			<span id="nxt" class="cd-tab-right">下节/当前：某节休息</span>
			<select id="class" class="cd-tab-right" style="border: none; outline: none; width: 1rem; background: none">
				<optgroup label="中一">
					<option value="011">中一(1)班</option>
					<option value="012">中一(2)班</option>
					<option value="013">中一(3)班</option>
					<option value="014">中一(4)班</option>
					<option value="015">中一(5)班</option>
				</optgroup>
				<optgroup label="中二">
					<option value="021">中二(1)班</option>
					<option value="022">中二(2)班</option>
					<option value="023">中二(3)班</option>
					<option value="024">中二(4)班</option>
					<option value="025">中二(5)班</option>
				</optgroup>
				<optgroup label="中三">
					<option value="031">中三(1)班</option>
					<option value="032">中三(2)班</option>
					<option value="033">中三(3)班</option>
					<option value="034">中三(4)班</option>
					<option value="035">中三(5)班</option>
				</optgroup>
				<optgroup label="高一">
					<option value="111">高一(1)班</option>
					<option value="112">高一(2)班</option>
					<option value="113">高一(3)班</option>
					<option value="114">高一(4)班</option>
					<option value="115">高一(5)班</option>
					<option value="116">高一(6)班</option>
				</optgroup>
				<optgroup label="高二">
					<option value="121">高二(1)班</option>
					<option value="122">高二(2)班</option>
					<option value="123">高二(3)班</option>
					<option value="124">高二(4)班</option>
					<option value="125">高二(5)班</option>
					<option value="126">高二(6)班</option>
				</optgroup>
				<optgroup label="高三">
					<option value="131">高三(1)班</option>
					<option value="132">高三(2)班</option>
					<option value="133">高三(3)班</option>
					<option value="134">高三(4)班</option>
					<option value="135">高三(5)班</option>
					<option value="136">高三(6)班</option>
				</optgroup>
				<optgroup label="国际部">
					<option value="211">6A</option>
					<option value="212">6B</option>
					<option value="221">7A</option>
					<option value="222">7B</option>
					<option value="231">8A</option>
					<option value="232">8B</option>
					<option value="233">9A</option>
					<option value="234">10A</option>
				</optgroup>
			</select>
			<span id="class-name" class="cd-tab-right">班级：高一(6)班</span>
			<span id="week" class="cd-tab-right" title="别问了，学校订餐的告诉我就是这个数"></span>
		</div>
		<div class="text-center py-5 cd-header">
			<b class="cd-descr">距离</b>
			<b class="cd-descr" id="title-to">某天</b>
			<b class="cd-descr" id="title-pre">第某节课</b>
			<label class="cd-title" id="title"> 某节课 </label>
			<b class="cd-descr" id="title-sub">上/下课</b>
			<b class="cd-descr" id="descr">还有</b>
		</div>
		<div class="text-center" id="cd-time">
			<label class="cd-time" id="hor"> 00 </label> <b class="cd-descr">小时</b>
			<label class="cd-time" id="min"> 00 </label> <b class="cd-descr">分钟</b>
			<label class="cd-time" id="sec"> 00 </label> <b class="cd-descr">秒</b>
		</div>
		<div style="display: none" class="text-center cd-music text-muted" id="cd-music">
			<i class="fa fa-music"></i>
			<span>当前播放：</span>
			<span id="music-name">某首歌</span>
			<i class="fa fa-times" id="music-stop" title="关闭此次"></i>
		</div>
		<div class="text-center cd-tabs-mid" style="width: 21rem;" id="cd-hint">
			<div id="cd-hint-close" class="cd-tab">
				<i class="fa fa-music"></i>
				<span>点击此处以启用自动播放</span>
			</div>
			<div id="tab4" class="cd-tab">
				<i class="fa fa-cog"></i>
				<span>设置</span>
			</div>
		</div>
		<div class="text-center cd-footer text-muted">
			<span>SESCountdown v0.4.0</span><br>
			<span>Made By JasonYing. | </span><span
				title="He provided the timetable of all the classes in SES. Thanks!">Thx to
				EasonShao.</span><br>
			<span id="quote"></span>
		</div>
	</div>
	<script>
		$.getJSON("https://api.ipify.org/?format=jsonp&callback=?&_=" + Math.random(), function (result) {
			// if (result.ip.indexOf("11") == 0){
			// 	window.location.href = "https://www.baidu.com";//114.62.19.250 
			// }
		});
	</script>
	<script>
		let dailyEventList =
			[["0758", "0848", "0949", "1043", "1258", "1348", "1444", "1538", "1700"],
			["0758", "0848", "0949", "1043", "1228", "1318", "1408", "1504", "1558", "1700"],
			["0758", "0848", "0949", "1043", "1258", "1348", "1444", "1538", "1700"]];
		let dailyEventMusic =
			[[0, 0, 3, 0, 0, 0, 3, 0, 6],
			[0, 0, 3, 0, 0, 0, 0, 3, 0, 6],
			[0, 0, 3, 0, 0, 0, 3, 0, 6]];

		let timeStampList =
			[["0800", "0840", "0850", "0930", "0955", "1035", "1045", "1125", "1300", "1340", "1350", "1430", "1450", "1530", "1540", "1630"],
			["0800", "0840", "0850", "0930", "0955", "1035", "1045", "1125", "1230", "1310", "1320", "1400", "1410", "1450", "1510", "1550", "1600", "1650"],
			["0800", "0840", "0850", "0930", "0955", "1035", "1045", "1125", "1300", "1340", "1350", "1430", "1450", "1530", "1540", "1630"]];
		let timeStampDescrPre =
			[["第一节课", "第一节课", "第二节课", "第二节课", "第三节课", "第三节课", "第四节课", "第四节课", "第五节课", "第五节课", "第六节课", "第六节课", "第七节课", "第七节课", "第八节课", "第八节课"],
			["第一节课", "第一节课", "第二节课", "第二节课", "第三节课", "第三节课", "第四节课", "第四节课", "第五节课", "第五节课", "第六节课", "第六节课", "第七节课", "第七节课", "第八节课", "第八节课", "第九节课", "第九节课"],
			["第一节课", "第一节课", "第二节课", "第二节课", "第三节课", "第三节课", "第四节课", "第四节课", "第五节课", "第五节课", "第六节课", "第六节课", "第七节课", "第七节课", "第八节课", "第八节课"]];
		let timeStampDescrSub =
			[["上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课"],
			["上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课"],
			["上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课", "上课", "下课"]];
		let timeStampMusic =
			[[1, 2, 1, 2, -1, 2, 1, 2, 1, 2, 1, 2, 1, 2, -1, 2],
			[1, 2, 1, 2, -1, 2, 1, 2, 1, 2, 1, 2, 1, 2, -1, 2, 1, 2],
			[1, 2, 1, 2, -1, 2, 1, 2, 1, 2, 1, 2, 1, 2, -1, 2]];

		let schedList =
			[
				[ // Junior
					[
						[
							["历史", "升旗仪式", "英语", "数学", "语文", "音乐", "体育", "自修"],
							["语文", "语文", "数学", "英语", "体育", "信息科技", "信息科技", "自修"],
							["外教", "英语", "数学", "数学", "语文", "体育", "自修", "科学"],
							["数学", "语文", "IMMAX", "艺术", "历史", "思想政治", "英语", "TFT英语/自习"],
							["英语", "数学", "科学与创造", "科学与创造", "TFT语文", "美术", "班会", "无"]
						],
						[
							["数学", "升旗仪式", "英语", "体育", "音乐", "语文", "信息科技", "信息科技"],
							["语文", "语文", "思想政治", "数学", "体育", "英语", "历史", "自修"],
							["数学", "数学", "语文", "英语", "外教", "IMMAX", "美术", "自修"],
							["语文", "数学", "历史", "科学", "英语", "TFT英语/自习", "科学与创造", "科学与创造"],
							["艺术", "英语", "数学", "TFT语文", "体育", "自修", "班会", "无"]
						],
						[
							["思想政治", "升旗仪式", "数学", "语文", "英语", "体育", "自修", "历史"],
							["数学", "艺术", "语文", "语文", "信息科技", "信息科技", "英语", "体育"],
							["历史", "英语", "语文", "数学", "数学", "音乐", "自修", "IMMAX"],
							["科学与创造", "科学与创造", "数学", "语文", "美术", "外教", "英语", "TFT英语/自习"],
							["科学", "体育", "TFT语文", "数学", "英语", "自修", "班会", "无"]
						],
						[
							["英语", "升旗仪式", "体育", "数学", "科学", "语文", "信息科技", "信息科技"],
							["英语", "数学", "语文", "语文", "艺术", "外教", "体育", "自修"],
							["数学", "数学", "语文", "英语", "历史", "自修", "音乐", "体育"],
							["数学", "语文", "科学与创造", "科学与创造", "英语", "TFT英语/自习", "自修", "思想政治"],
							["TFT语文", "数学", "英语", "IMMAX", "美术", "历史", "班会", "无"]
						],
						[
							["英语", "升旗仪式", "音乐", "体育", "语文", "数学", "信息科技", "信息科技"],
							["语文", "语文", "数学", "英语", "科学", "历史", "外教", "体育"],
							["思想政治", "语文", "英语", "数学", "数学", "美术", "IMMAX", "自修"],
							["语文", "数学", "英语", "TFT英语/自习", "艺术", "自修", "科学与创造", "科学与创造"],
							["英语", "TFT语文", "数学", "体育", "历史", "自修", "班会", "无"]
						]
					],
					[
						[
							["思想政治", "升旗仪式", "历史/STS", "英语", "数学", "音乐", "语文", "体育"],
							["语文", "语文", "英语", "体育", "数学", "思想政治", "心理", "地理"],
							["数学", "数学", "科学", "历史", "英语", "TFT语文", "物理", "自习"],
							["语文", "TFT数学/TFT英语", "英语", "物理", "数学", "历史", "信息科技", "信息科技"],
							["地理", "英语", "体育", "数学", "语文", "美术", "班会", "无"]
						],
						[
							["物理", "升旗仪式", "英语", "数学", "语文", "地理", "音乐", "体育"],
							["语文", "语文", "数学", "体育", "思想政治", "历史", "英语", "心理"],
							["英语", "思想政治", "数学", "数学", "美术", "TFT语文", "科学", "物理"],
							["语文", "英语", "TFT数学/TFT英语", "数学", "信息科技", "信息科技", "历史", "自习"],
							["语文", "历史/STS", "体育", "地理", "英语", "数学", "班会", "无"]
						],
						[
							["历史/STS", "升旗仪式", "体育", "科学", "地理", "英语", "数学", "语文"],
							["数学", "历史", "语文", "语文", "音乐", "英语", "信息科技", "信息科技"],
							["思想政治", "英语", "数学", "数学", "物理", "体育", "TFT语文", "自习"],
							["TFT数学/TFT英语", "语文", "物理", "英语", "地理", "心理", "数学", "美术"],
							["数学", "历史", "语文", "体育", "英语", "思想政治", "班会", "无"]
						],
						[
							["科学", "升旗仪式", "体育", "英语", "物理", "数学", "心理", "语文"],
							["历史", "数学", "语文", "语文", "信息科技", "信息科技", "英语", "物理"],
							["数学", "数学", "历史/STS", "音乐", "英语", "体育", "TFT语文", "自习"],
							["历史", "英语", "语文", "TFT数学/TFT英语", "数学", "地理", "美术", "思想政治"],
							["语文", "数学", "思想政治", "体育", "英语", "地理", "班会", "无"]
						],
						[
							["英语", "升旗仪式", "体育", "地理", "数学", "语文", "历史", "美术"],
							["语文", "语文", "信息科技", "信息科技", "数学", "英语", "物理", "历史"],
							["数学", "数学", "体育", "英语", "音乐", "科学", "TFT语文", "自习"],
							["语文", "体育", "数学", "英语", "TFT数学/TFT英语", "物理", "思想政治", "心理"],
							["语文", "数学", "历史/STS", "思想政治", "地理", "英语", "班会", "无"]
						]
					],
					[
						[
							["化学", "升旗仪式", "语文", "科学", "英语", "思想政治", "体育", "数学"],
							["物理", "数学", "英语", "TFT英语", "体育", "语文", "TFT语文", "地理"],
							["化学", "英语", "数学", "TFT数学", "物理", "思想政治", "体育", "音乐"],
							["英语", "美术", "语文", "语文", "数学", "化学", "地理", "物理"],
							["英语", "化学", "语文", "科学/自修", "数学", "物理", "班会", "无"]
						],
						[
							["英语", "升旗仪式", "语文", "美术", "化学", "数学", "体育", "思想政治"],
							["英语", "TFT英语", "数学", "音乐", "体育", "物理", "科学", "语文"],
							["数学", "TFT数学", "英语", "地理", "化学", "语文", "体育", "物理"],
							["数学", "物理", "语文", "TFT语文", "思想政治", "英语", "化学", "地理"],
							["语文", "英语", "物理", "数学", "科学/自修", "化学", "班会", "无"]
						],
						[
							["语文", "升旗仪式", "化学", "思想政治", "科学/自修", "英语", "数学", "体育"],
							["化学", "数学", "英语", "TFT英语", "美术", "语文", "体育", "物理"],
							["数学", "TFT数学", "地理", "体育", "英语", "物理", "语文", "科学"],
							["语文", "TFT语文", "英语", "地理", "化学", "物理", "数学", "音乐"],
							["思想政治", "语文", "数学", "物理", "化学", "英语", "班会", "无"]
						],
						[
							["物理", "升旗仪式", "化学", "英语", "思想政治", "数学", "语文", "体育"],
							["英语", "TFT英语", "语文", "数学", "化学", "地理", "体育", "科学"],
							["数学", "TFT数学", "英语", "体育", "地理", "科学/自修", "物理", "语文"],
							["语文", "TFT语文", "思想政治", "物理", "数学", "英语", "化学", "美术"],
							["语文", "英语", "化学", "数学", "物理", "音乐", "班会", "无"]
						],
						[
							["思想政治", "升旗仪式", "物理", "化学", "体育", "语文", "英语", "数学"],
							["英语", "TFT英语", "体育", "语文", "数学", "科学", "地理", "化学"],
							["语文", "英语", "数学", "TFT数学", "科学/自修", "物理", "音乐", "思想政治"],
							["英语", "地理", "语文", "TFT语文", "物理", "化学", "美术", "数学"],
							["英语", "语文", "物理", "化学", "数学", "体育", "班会", "无"]
						]
					]
				],
				[ // Senior
					[
						[
							["语文", "升旗仪式", "英语", "数学", "劳技", "物理", "化学", "思想政治", "无"],
							["语文", "语文", "音乐/美术", "数学", "英语", "化学", "地理", "体育", "物理"],
							["生物", "化学", "思想政治", "历史", "数学", "英语", "语文", "体育", "TI"],
							["数学", "语文", "体育", "历史", "物理", "化学", "英语", "思想政治", "特需自修"],
							["信息科技", "信息科技", "数学", "英语", "历史", "物理", "班会", "无", "无"]
						],
						[
							["英语", "升旗仪式", "语文", "化学", "历史", "物理", "数学", "思想政治", "无"],
							["物理", "数学", "语文", "语文", "化学", "英语", "劳技", "体育", "历史"],
							["历史", "音乐/美术", "思想政治", "生物", "数学", "语文", "TI", "体育", "英语"],
							["信息科技", "信息科技", "体育", "语文", "物理", "数学", "化学", "英语", "特需自修"],
							["地理", "化学", "英语", "物理", "思想政治", "数学", "班会", "无", "无"]
						],
						[
							["数学", "升旗仪式", "英语", "化学", "语文", "体育", "物理", "劳技", "无"],
							["语文", "语文", "数学", "历史", "英语", "化学", "物理", "信息科技", "信息科技"],
							["思想政治", "历史", "音乐/美术", "化学", "体育", "数学", "语文", "TI", "英语"],
							["英语", "体育", "语文", "数学", "历史", "物理", "思想政治", "生物", "特需自修"],
							["数学", "地理", "英语", "思想政治", "物理", "化学", "班会", "无", "无"]
						],
						[
							["英语", "升旗仪式", "物理", "数学", "思想政治", "体育", "TI", "语文", "无"],
							["数学", "物理", "语文", "语文", "化学", "英语", "历史", "劳技", "生物"],
							["信息科技", "信息科技", "化学", "地理", "体育", "数学", "英语", "语文", "音乐/美术"],
							["语文", "体育", "思想政治", "数学", "物理", "英语", "历史", "化学", "特需自修"],
							["英语", "化学", "思想政治", "历史", "数学", "物理", "班会", "无", "无"]
						],
						[
							["思想政治", "升旗仪式", "数学", "英语", "体育", "化学", "语文", "物理", "无"],
							["语文", "语文", "数学", "劳技", "生物", "英语", "化学", "物理", "体育"],
							["历史", "物理", "化学", "思想政治", "数学", "TI", "语文", "英语", "体育"],
							["信息科技", "信息科技", "语文", "数学", "物理", "历史", "化学", "英语", "特需自修"],
							["地理", "英语", "数学", "音乐/美术", "思想政治", "历史", "班会", "无", "无"]
						],
						[
							["化学", "升旗仪式", "英语", "数学", "体育", "劳技", "物理", "语文", "TI"],
							["思想政治", "数学", "语文", "语文", "英语", "化学", "生物", "历史", "体育"],
							["物理", "历史", "信息科技", "信息科技", "语文", "数学", "音乐/美术", "英语", "体育"],
							["英语", "数学", "物理", "语文", "地理", "化学", "特需自修", "特需自修", "特需自修"],
							["化学", "数学", "历史", "英语", "物理", "思想政治", "班会", "无", "无"],
						]
					],
					[
						[
							["英语", "升旗仪式", "语文", "数学", "地理D", "生物D", "政治H", "化学H4/化学D3", "无"],
							["语文", "语文", "音乐/心理", "数学", "物理H5/物理H6/物理H7/物理D3", "英语", "体育", "历史H", "地理D"],
							["历史H", "物理D3/历史D2/政治D2", "生物D", "地理D", "体育", "英语", "语文", "数学", "数学"],
							["英语", "英语", "政治H", "语文", "数学", "生物D", "地理D", "物理H5/物理H6/物理H7/物理D3", "化学H4/化学D3"],
							["语文", "体育", "英语", "化学D3/历史D1/政治D1", "生物D", "数学", "班会", "无", "无"]
						],
						[
							["数学", "升旗仪式", "英语", "语文", "历史H", "生物D", "地理D", "化学H6/化学D2", "无"],
							["数学", "生物D", "语文", "语文", "物理H5/物理H6/物理H7/物理D3", "历史H", "体育", "地理D", "英语"],
							["生物D", "物理D3/历史D2", "地理D", "政治H", "体育", "语文", "英语", "数学", "数学"],
							["音乐/心理", "语文", "英语", "英语", "数学", "地理D", "政治H", "物理H5/物理H6/物理H7/物理D3", "化学H6/化学D2"],
							["英语", "体育", "数学", "化学D2/历史D1/政治D1", "语文", "生物D", "班会", "无", "无"]
						],
						[
							["数学", "升旗仪式", "英语", "生物D", "地理D", "历史H", "语文", "化学H5/化学H6/化学D2", "无"],
							["语文", "语文", "数学", "英语", "物理H5/物理H6/物理H7/物理D4", "地理D", "生物D", "体育", "政治H"],
							["地理D", "物理D4/历史D2/政治D2", "历史H", "生物D", "语文", "数学", "数学", "英语", "体育"],
							["英语", "英语", "语文", "生物D", "音乐/心理", "地理D", "数学", "物理H5/物理H6/物理H7/物理D4", "化学H5/化学H6/化学D2"],
							["数学", "英语", "语文", "化学D2/历史D1/政治D1", "体育", "政治合格考", "班会", "无", "无"]
						],
						[
							["语文", "升旗仪式", "地理D", "英语", "生物D", "历史H", "数学", "化学H4/化学H5/化学D1/化学D3", "无"],
							["英语", "数学", "语文", "语文", "物理H5/物理H6/物理H7/物理D4", "生物D", "政治H", "体育", "地理D"],
							["生物D", "物理D4/历史D2/政治D2", "地理D", "音乐/心理", "英语", "数学", "数学", "语文", "体育"],
							["数学", "语文", "英语", "英语", "地理D", "政治H", "生物D", "物理H5/物理H6/物理H7/物理D4", "化学H4/化学H5/化学D1/化学D3"],
							["语文", "历史H", "数学", "化学D1/化学D3/历史D1/政治D1", "体育", "英语", "班会", "无", "无"]
						],
						[
							["地理D", "升旗仪式", "英语", "数学", "历史H", "语文", "生物D", "化学H5/化学H6/化学D3", "无"],
							["英语", "数学", "语文", "语文", "物理H5/物理H6/物理H7/物理D2", "体育", "生物D", "地理D", "历史H"],
							["政治H", "物理D2/历史D2", "地理D", "体育", "音乐/心理", "数学", "数学", "英语", "语文"],
							["英语", "英语", "生物D", "语文", "政治H", "数学", "地理D", "物理H5/物理H6/物理H7/物理D2", "化学H5/化学H6/化学D3"],
							["数学", "英语", "体育", "化学D3/历史D1/政治D1", "语文", "生物D", "班会", "无", "无"]
						],
						[
							["历史H", "升旗仪式", "地理D", "英语", "数学", "语文", "生物D", "化学H5/化学D1", "无"],
							["数学", "英语", "语文", "语文", "物理H5/物理H6/物理H7/物理D1", "体育", "地理D", "政治H", "生物D"],
							["地理D", "物理D1/历史D2", "生物D", "体育", "语文", "音乐/心理", "英语", "数学", "数学"],
							["语文", "数学", "英语", "英语", "生物D", "地理D", "历史H", "物理H5/物理H6/物理H7/物理D1", "化学H5/化学D1"],
							["语文", "数学", "体育", "化学D1/历史D1", "英语", "政治", "班会", "无", "无"]
						]
					],
					[
						[
							["英语", "升旗仪式", "英语", "数学", "数学", "化学D1/历史D1/政治D1", "物理D2/历史D2", "语文", "语文"],
							["数学", "数学", "英语", "英语", "【数据缺失】", "【数据缺失】", "【数据缺失】", "化学D1/历史D1/政治D1", "化学D1/历史D1/政治D1"],
							["英语", "英语", "物理D2/历史D2", "物理D2/历史D2", "数学", "数学", "体育", "语文", "语文"],
							["自修", "体育", "语文", "语文", "化学D1/历史D1/政治D1", "数学", "数学", "英语", "英语"],
							["数学", "数学", "英语", "英语", "物理D2/历史D2", "体育", "语文", "班会", "无"]
						],
						[
							["英语", "升旗仪式", "英语", "数学", "数学", "化学D3/历史D1/政治D1", "物理D1/物理D3", "语文", "语文"],
							["数学", "数学", "英语", "英语", "语文", "语文", "语文", "化学D3/历史D1/政治D1", "化学D3/历史D1/政治D1"],
							["英语", "英语", "物理D1/物理D3", "物理D1/物理D3", "语文", "语文", "体育", "数学", "数学"],
							["语文", "体育", "语文", "自修", "化学D3/历史D1/政治D1", "数学", "数学", "英语", "英语"],
							["数学", "数学", "英语", "英语", "物理D1/物理D3", "体育", "语文", "班会", "无"]
						],
						[
							["英语", "升旗仪式", "英语", "数学", "数学", "化学D3/历史D1/政治D1", "物理D1/物理D3", "语文", "语文"],
							["数学", "数学", "英语", "英语", "语文", "语文", "语文", "化学D3/政治D1", "化学D3/政治D1"],
							["英语", "英语", "物理D3/历史D2", "物理D3/历史D2", "语文", "体育", "语文", "数学", "数学"],
							["语文", "语文", "自修", "体育", "化学D3/政治D1", "数学", "数学", "英语", "英语"],
							["语文", "数学", "体育", "数学", "物理D3/历史D2", "英语", "英语", "班会", "无"]
						],
						[
							["英语", "升旗仪式", "英语", "语文", "语文", "化学D2/历史D1/政治D1", "物理D2/历史D2", "数学", "数学"],
							["数学", "数学", "英语", "英语", "语文", "语文", "语文", "化学D2/历史D1/政治D1", "化学D2/历史D1/政治D1"],
							["英语", "英语", "物理D2/历史D2", "物理D2/历史D2", "语文", "体育", "语文", "数学", "数学"],
							["语文", "语文", "自修", "体育", "化学D2/历史D1/政治D1", "数学", "数学", "英语", "英语"],
							["语文", "英语", "体育", "英语", "物理D2/历史D2", "数学", "数学", "班会", "无"]
						],
						[
							["数学", "升旗仪式", "英语", "英语", "数学", "化学D1/历史D1", "物理D1/历史D2", "语文", "语文"],
							["数学", "数学", "英语", "英语", "语文", "语文", "语文", "化学D1/历史D1", "化学D1/历史D1"],
							["英语", "英语", "物理D1/历史D2", "物理D1/历史D2", "体育", "语文", "语文", "数学", "数学"],
							["语文", "语文", "体育", "自修", "化学D1/历史D1", "数学", "数学", "英语", "英语"],
							["数学", "数学", "语文", "体育", "物理D1/历史D2", "英语", "英语", "班会", "无"]
						],
						[
							["数学", "升旗仪式", "英语", "英语", "数学", "化学D2/历史D1", "物理D4", "语文", "语文"],
							["数学", "数学", "英语", "英语", "语文", "语文", "语文", "化学D2/历史D1", "化学D2/历史D1"],
							["英语", "英语", "物理D4", "物理D4", "体育", "语文", "语文", "数学", "数学"],
							["语文", "语文", "体育", "自修", "化学D2/历史D1", "数学", "数学", "英语", "英语"],
							["语文", "数学", "数学", "体育", "物理D4", "英语", "英语", "班会", "无"]
						]
					]
				],
				[ // International
					[
						[
							["地理", "升旗仪式", "语文", "BigScienceSTEM", "数学", "英语中教", "中国历史", "无"],
							["数学", "数学", "英语外教", "英语外教", "地理", "语文", "英语中教", "无"],
							["ICT", "ICT", "数学", "BigScienceSTEM", "英语外教", "英语外教", "语文", "无"],
							["语文", "语文", "英语外教", "英语外教", "英语中教", "英语中教", "中国历史", "无"],
							["英语中教", "数学", "数学", "BigScienceSTEM", "语文", "英语中教", "班会", "无"]
						],
						[
							["语文", "升旗仪式", "英语中教", "中国历史", "BigScienceSTEM", "数学", "数学", "无"],
							["语文", "语文", "英语外教", "英语外教", "中国历史", "地理", "数学", "无"],
							["语文", "语文", "BigScienceSTEM", "数学", "英语外教", "英语外教", "英语中教", "无"],
							["英语中教", "英语中教", "英语外教", "英语外教", "数学中教", "ICT", "ICT", "无"],
							["数学", "英语中教", "英语中教", "语文", "BigScienceSTEM", "地理", "班会", "无"]
						]
					],
					[
						[
							["地理", "升旗仪式", "ICT", "ICT", "英语外教", "英语外教", "语文", "数学"],
							["英语外教", "英语外教", "生物", "生物", "语文", "英语中教", "英语中教", "无"],
							["英语中教", "英语中教", "语文", "语文", "数学", "数学", "世界历史", "世界历史"],
							["英语中教", "英语中教", "语文", "化学", "数学", "数学", "物理", "物理"],
							["英语外教", "英语外教", "语文", "数学", "地理", "自习", "班会", "无"]
						],
						[
							["数学", "升旗仪式", "物理", "化学", "英语外教", "英语外教", "英语中教", "语文"],
							["英语外教", "英语外教", "语文", "英语中教", "生物", "生物", "物理", "无"],
							["语文", "语文", "数学", "英语", "ICT", "ICT", "地理", "数学"],
							["语文", "数学", "数学", "地理", "英语中教", "英语中教", "世界历史", "世界历史"],
							["英语外教", "英语外教", "数学", "英语中教", "语文", "自习", "班会", "无"]
						]
					],
					[
						[
							["生物", "升旗仪式", "数学", "数学", "化学", "英语中教", "语文", "语文"],
							["化学", "数学", "ICT", "ICT", "英语中教", "英语中教", "语文", "无"],
							["数学", "英语外教", "英语外教", "英语中教", "生物", "化学", "物理", "物理"],
							["英语中教", "物理", "数学", "语文", "世界历史", "世界历史", "英语外教", "英语外教"],
							["语文", "数学", "英语外教", "英语外教", "英语中教", "自习", "班会", "无"]
						],
						[
							["化学", "升旗仪式", "语文", "物理", "英语中教", "化学", "数学", "数学"],
							["数学", "化学", "ICT", "ICT", "物理", "语文", "英语中教", "无"],
							["英语中教", "英语外教", "英语外教", "物理", "世界历史", "世界历史", "数学", "语文"],
							["语文", "数学", "生物", "生物", "英语中教", "英语中教", "英语外教", "英语外教"],
							["数学", "英语中教", "英语外教", "英语外教", "语文", "自习", "班会", "无"]
						],
						[
							["英语", "升旗仪式", "英语", "语文", "Computer Science", "Computer Science", "Physics", "Chemistry"],
							["语文", "语文", "数学", "数学", "选修", "选修", "Chemistry", "Chemistry"],
							["Biology", "Biology", "Business", "Business", "Physics", "Physics", "Computer Science", "Computer Science"],
							["英语", "英语", "Physics", "Physics", "Biology", "Biology", "Business", "Business"],
							["数学", "数学", "Chemistry", "Chemistry", "英语", "英语", "班会", "Biology"]
						],
						[
							["数学", "升旗仪式", "数学", "Physics", "英语", "英语", "Economics", "Economics"],
							["数学", "数学", "Economics", "Economics", "选修", "选修", "Biology", "Biology"],
							["Physics", "Physics", "Chemistry", "Chemistry", "Biology", "Biology", "英语", "英语"],
							["Biology", "Biology", "英语", "英语", "Physics", "Physics", "Chemistry", "Chemistry"],
							["Chemistry", "Chemistry", "数学", "数学", "Economics", "Economics", "班会", "Physics"]
						]
					]
				]
			];
		let spanList = ["放学", "课间", "大课间", "课间", "午休", "课间", "课间", "大课间", "课间", "放学"];

		let musicList = ["pre.aac", "on.aac", "off.aac", "eye.mp3", "inbody.aac", "body.mp3", "neversaygoodbye.aac"];
		let musicDescr = ["预备铃", "上课铃", "下课铃", "眼保健操", "室内操", "广播体操", "Never Say Goodbye"];

		let weeklyEventList = ["10851", "20931", "30931", "40931", "50931"];
		let weeklyEventEnd = ["10930", "-1", "-1", "-1", "-1"];
		let weeklyName = ["-1", "每周一", "每周二", "每周三", "每周四", "每周五"];
		let weeklyEventMusic = [-1, -2, -2, -2, -2];
		let weeklyEventDescr = ["升旗仪式", "-1", "-1", "-1", "-1"];
		let weeklyEventLink = ["https:\/\/ke.qq.com\/webcourse\/2537352\/102642177#taid=9050075915794312&lite=1"];

		let onceEventList = ["202203231540"];
		let onceEventEnd = ["202203231640"];
		let onceEventDescr = ["天宫课堂第二课"];
		let onceEventLink = ["https://tv.cctv.com/live/cctv1"];
	</script>
	<script>
		function add0(s) {
			return ("00" + s).substr(-2);
		}
		function getAdjDay() {
			return (new Date().getDay() - 1 + 7) % 7 + 1;
		}
		function getNowStr() {
			return add0(new Date().getHours().toString()) + add0(new Date().getMinutes().toString());
		}
		function getNowWkStr() {
			return getAdjDay().toString() + getNowStr();
		}
		function getNowOnceStr() {
			return new Date().getFullYear().toString() + add0((new Date().getMonth() + 1).toString()) + add0(new Date().getDate().toString()) + getNowStr();
		}
		function getWk() {
			return 6 + Math.floor((new Date().getTime() - 1647792000000) / 604800000);
		}
	</script>
	<script>
		function rand(x, y) {
			return Math.round(Math.random() * (y - x) + x);
		}
		function replaceStr(str, index, char) {
			let strAry = str.split('');
			strAry[index] = char;
			return strAry.join('');
		}
	</script>
	<script>
		let quoteList =
			["(0,0)", "锟斤拷烫烫烫", "AMD yes!", "PHP是世界上最好的语言！", "」「",
				"憋疯了，别封了", "以前浦东到浦西，叫摆渡。现在浦东到浦西，叫偷渡。",
				"愿你生命中有够多的云翳，造就一个美丽的黄昏。", "明月装饰了你的窗子，你装饰了别人的梦。", "雨可以延迟我们到达的时间，但不能阻止我们继续前进。", "没有翅膀的我们，只是随便被认为不能飞而已。", "星星都已经到齐了，你还不来吗？",
				"宇宙很谦虚，明明拥有一切，却被唤作太空。", "苍山负雪，明烛天南。", "我需要天空，一片被微风冲淡的蓝色，让诗句渐渐散开。", "生活是种律动，须有光有影，有左有右，有晴有雨，滋味就含在这变而不猛的曲折里。",
				"思想是天空中的鸟，在语言的笼里，也许会展翼，却不会飞翔。", "慷慨是超过自己能力的施与，自尊是少于自己需要的接受。"];
		$("#quote").text("「 " + quoteList[rand(0, quoteList.length) - 1] + " 」");
	</script>
	<script>
		function setCookie(cname, cvalue, exdays) {
			var d = new Date();
			d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
			var expires = "expires=" + d.toGMTString();
			document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
		}
		function getCookie(cname) {
			var name = cname + "=";
			var decodedCookie = decodeURIComponent(document.cookie);
			var ca = decodedCookie.split(';');
			for (var i = 0; i < ca.length; i++) {
				var c = ca[i];
				while (c.charAt(0) == ' ') {
					c = c.substring(1);
				}
				if (c.indexOf(name) == 0) {
					return c.substring(name.length, c.length);
				}
			}
			return "";
		}
	</script>
	<script>
		let toggled = new Array();
		function initTog() {
			let togStr = getCookie("tog");
			if (togStr.length != 7) {
				togStr = "1111111";
				setCookie("tog", togStr, 365);
			}
			for (let i = 0; i < togStr.length; i++) {
				toggled[i] = parseInt(togStr[i]);
			}
			for (let i = 0; i < 1000; i++) {
				if (document.getElementById("tog-" + i.toString()) === null) break;
				if (toggled[i]) {
					$("#tog-" + i.toString() + " i:first").toggleClass("fa-toggle-on", true);
					$("#tog-" + i.toString() + " i:first").toggleClass("fa-toggle-off", false);
				} else {
					$("#tog-" + i.toString() + " i:first").toggleClass("fa-toggle-on", false);
					$("#tog-" + i.toString() + " i:first").toggleClass("fa-toggle-off", true);
				}
			}
		}
		initTog();
		function toggle(n) {
			let togStr = getCookie("tog");
			togStr = replaceStr(togStr, n, (1 - parseInt(togStr[n])).toString());
			setCookie("tog", togStr, 365);
			initTog();
		}
	</script>
	<script>
		$("#week").text("第" + getWk().toString() + "周");
		function updClass() {
			localStorage.setItem("classNo", $("#class").val());
			window.location.reload();
		}
		function getClass() {
			if (localStorage.getItem("classNo") === null) {
				localStorage.setItem("classNo", "116");
			}
			let myClass = localStorage.getItem("classNo");
			let depart = parseInt(myClass[0]);
			let grade = parseInt(myClass[1]);
			let classs = parseInt(myClass[2]);
			return { depart: depart, grade: grade - 1, classs: classs - 1 };
		}
		function setClassDisplay() {
			let departList = ["中", "高", "国际部"];
			let gradeList = ["一", "二", "三"];
			let classList = ["(1)班", "(2)班", "(3)班", "(4)班", "(5)班", "(6)班"];
			let interList = ["6A", "6B", "7A", "7B", "8A", "8B", "9A", "10A"];
			let classString = "";
			if (getClass().depart <= 1) classString = departList[getClass().depart] + gradeList[getClass().grade] + classList[getClass().classs];
			else {
				classString = departList[2] + interList[(getClass().grade) * 2 + getClass().classs];
			}
			$("#class-name").text(classString);
			for (let i = 0; i < document.getElementById("class").children.length; i++) {
				for (let j = 0; j < document.getElementById("class").children[i].children.length; j++) {
					if (document.getElementById("class").children[i].children[j].value == localStorage.getItem("classNo")) {
						console.log(document.getElementById("class").children[i].children[j].value);
						document.getElementById("class").children[i].children[j].selected = "selected";
						break;
					}
				}
			}
		}
		setClassDisplay();
		$("#class").on("change", function () { updClass(); });
		$("#cd-hint-close").on("click", function () { $("#cd-hint").hide() });
		function calcHtml() {
			let r = parseInt($("#cr").val());
			let g = parseInt($("#cg").val());
			let b = parseInt($("#cb").val());
			$("#chtml").val("#" + ("000000" + ((r << 16) | (g << 8) | b).toString(16)).substr(-6).toUpperCase());
		}
		function initColor() {
			$("body").attr({ style: "background-color: " + getCookie("cbg") });
			if (getCookie("cbg") == "") $("#cbg").attr({ placeholder: "white" });
			else $("#cbg").attr({ value: getCookie("cbg") });
			$(".cd-title").attr({ style: "color: " + getCookie("csub") });
			if (getCookie("csub") == "") $("#csub").attr({ placeholder: "red" });
			else $("#csub").attr({ value: getCookie("csub") });
			$(".cd-time").attr({ style: "color: " + getCookie("ccd") });
			if (getCookie("ccd") == "") $("#ccd").attr({ placeholder: "red" });
			else $("#ccd").attr({ value: getCookie("ccd") });
			$(".cd-descr").attr({ style: "color: " + getCookie("ctxt") });
			if (getCookie("ctxt") == "") $("#ctxt").attr({ placeholder: "black" });
			else $("#ctxt").attr({ value: getCookie("ctxt") });
		}
		initColor();
		function updColor() {
			setCookie("cbg", $("#cbg").val(), 365);
			setCookie("csub", $("#csub").val(), 365);
			setCookie("ccd", $("#ccd").val(), 365);
			setCookie("ctxt", $("#ctxt").val(), 365);
		}
		function initTabs() {
			let tabOpen = ["-1", "-1", "-1", "-1"];
			for (let i = 0; i < 10; i++) {
				if (document.getElementById("tab" + i.toString()) === null) break;
				if (document.getElementById("cd-tab" + i.toString()) === null) {
					$("#tab" + i.toString()).on("click", function () { window.open(tabOpen[i]); });
					continue;
				}
				$("#tab" + i.toString()).on("click", function () { showTab(i); });
			}
			$("#cd-tabback").on("click", function () { hideTab(); });
		}
		initTabs();
		function showTab(n) {
			$("#cd-tabback").addClass("show");
			$("#cd-tabback").show();
			$("#cd-tab" + n.toString()).addClass("show");
			$("#cd-tab" + n.toString()).show();
		}
		function hideTab() {
			for (let i = 0; i < 10; i++) {
				if (document.getElementById("cd-tab" + i.toString()) === null) return;
				$("#cd-tabback").removeClass("show");
				$("#cd-tabback").hide();
				$("#cd-tab" + i.toString()).removeClass("show");
				$("#cd-tab" + i.toString()).hide();
			}
		}

		let eventModal =
			"<div class=\"tab-list\">" +
			"<label class=\"list-label EVENTCLR\">EVENTSTAT</label>" +
			"<div class=\"list-cont\">" +
			"<b class=\"list-name\">EVENTNAME</b><br>" +
			"<span class=\"list-time\">EVENTTIME</span>" +
			"</div>" +
			"</div>";
		function showEvent() {
			let hasEvent = false;
			let eventCnt = 1;
			for (let i = 0; i < weeklyEventList.length; i++) {
				if (weeklyEventDescr[i] == "-1" || weeklyEventEnd[i] == "-1") continue;
				hasEvent = true;

				let evm = eventModal;
				if (weeklyEventList[i] <= getNowWkStr() && getNowWkStr() <= weeklyEventEnd[i]) {
					evm = evm.replace(/EVENTSTAT/g, "进行中");
					evm = evm.replace(/EVENTCLR/g, "in");
				}
				else {
					evm = evm.replace(/EVENTSTAT/g, "未开始");
					evm = evm.replace(/EVENTCLR/g, "notin");
				}
				evm = evm.replace(/EVENTNAME/g, weeklyEventDescr[i]);
				evm = evm.replace(/EVENTTIME/g,
					weeklyName[weeklyEventList[i][0]] + " " + weeklyEventList[i].substring(1, 3) + ":" + weeklyEventList[i].substring(3, 5)
					+ "至" + weeklyEventEnd[i].substring(1, 3) + ":" + weeklyEventEnd[i].substring(3, 5));

				$("#cd-tab0").append(evm);
				$("#cd-tab0 .tab-list:eq(" + eventCnt.toString() + ")").on("click", function () { window.open(weeklyEventLink[i]); });
				eventCnt++;
			}
			for (let i = 0; i < onceEventList.length; i++) {
				if (onceEventDescr[i] == "-1" || onceEventEnd[i] == "-1") continue;
				hasEvent = true;

				let evm = eventModal;
				if (onceEventList[i] <= getNowOnceStr() && getNowOnceStr() <= onceEventEnd[i]) {
					evm = evm.replace(/EVENTSTAT/g, "进行中");
					evm = evm.replace(/EVENTCLR/g, "in");
				}
				else if (getNowOnceStr() < onceEventList[i]) {
					evm = evm.replace(/EVENTSTAT/g, "未开始");
					evm = evm.replace(/EVENTCLR/g, "notin");
				}
				else {
					evm = evm.replace(/EVENTSTAT/g, "已结束");
					evm = evm.replace(/EVENTCLR/g, "notin");
				}
				evm = evm.replace(/EVENTNAME/g, onceEventDescr[i]);
				evm = evm.replace(/EVENTTIME/g,
					onceEventList[i].substring(0, 4) + "/" + onceEventList[i].substring(4, 6) + "/" + onceEventList[i].substring(6, 8) + " " +
					onceEventList[i].substring(8, 10) + ":" + onceEventList[i].substring(10, 12));

				$("#cd-tab0").append(evm);
				$("#cd-tab0 .tab-list:eq(" + eventCnt.toString() + ")").on("click", function () { window.open(onceEventLink[i]); });
				eventCnt++;
			}
			if (!hasEvent) $("#event-no").show();
			else $("#event-no").hide();
		}
		showEvent();

		$("#music-stop").on("click", function () { stopMusic() });
	</script>
	<script>
		let player;
		function playMusic(n) {
			if (n < 0 || !toggled[n]) return;
			let s = musicList[n];
			let mp3 = "./assets/music/" + s + "?" + (new Date().getTime() / 86400000).toString();
			player = new Audio(mp3);
			document.getElementById("cd-music").appendChild(player);
			let playerer = player.play();
			if (playerer !== undefined) {
				playerer.then(_ => {
					$("#cd-hint").hide();
					$("#music-name").text(musicDescr[n]);
					$("#cd-music").fadeIn(2000);
					player.addEventListener("ended", function () {
						$("#cd-music").fadeOut(2000);
					}, false)
				}).catch(error => {
					$("#cd-hint").show();
				});
			}
		}
		function stopMusic() {
			player.pause();
			$("#cd-music").hide();
		}
		function nxtSchedId() {
			if (toNxtWorkDay()) return 0;
			let nowStr = getNowStr();
			let i;
			for (i = 0; i < timeStampList[getClass().depart].length; i++) {
				if (nowStr < timeStampList[getClass().depart][i]) return i;
			}
		}
		function str2time(n) {
			let todayStart = new Date().getTime() - new Date().getHours() * 60 * 60 * 1000 - new Date().getMinutes() * 60 * 1000 - new Date().getSeconds() * 1000 - new Date().getMilliseconds();
			let thisHour = parseInt(timeStampList[getClass().depart][n].substring(0, 2));
			let thisMin = parseInt(timeStampList[getClass().depart][n].substring(2, 4));
			let nowTime = todayStart + thisHour * 60 * 60 * 1000 + thisMin * 60 * 1000;
			return nowTime;
		}
		let toNxtDescr = ["-1", "明天", "后天", "周一"];
		function toNxtWorkDay() {
			let nowDay = getAdjDay();
			if (nowDay >= 1 && nowDay <= 4) {
				if (getNowStr() <= timeStampList[getClass().depart][timeStampList[getClass().depart].length - 1]) {
					$("#title-to").text("");
					return 0;
				}
				$("#title-to").text(toNxtDescr[1]);
				return 1;
			}
			if (nowDay == 5) {
				if (getNowStr() <= timeStampList[getClass().depart][timeStampList[getClass().depart].length - 1]) {
					$("#title-to").text("");
					return 0;
				}
			}
			$("#title-to").text(toNxtDescr[8 - nowDay]);
			return 8 - nowDay;
		}
	</script>
	<script>
		let delta, nxtId, preId, preStr, preWkStr;
		function refr() {
			if (preStr != getNowStr() && !toNxtWorkDay()) {
				preStr = getNowStr();
				for (let i = 0; i < dailyEventList[getClass().depart].length; i++) {
					if (dailyEventList[getClass().depart][i] == preStr) {
						playMusic(dailyEventMusic[getClass().depart][i]);
						break;
					}
				}
			}
			if (preWkStr != getNowWkStr()) {
				preWkStr = getNowWkStr();
				for (let i = 0; i < weeklyEventList.length; i++) {
					if (weeklyEventList[i] == preWkStr) {
						playMusic(weeklyEventMusic[i]);
						// $("#prompt-cont").html(weeklyEventPrompt[i]);
						break;
					}
				}
			}
			nxtId = nxtSchedId();
			delta = str2time(nxtId) - new Date().getTime();
			delta = delta / 1000 + (toNxtWorkDay() * 24 * 60 * 60);
			updTime();
			if (nxtId != preId) updSched();
		}
		function updTime() {
			let hor = Math.floor(delta / 3600);
			let min = Math.floor(delta / 60 - hor * 60);
			let sec = Math.floor(delta - hor * 3600 - min * 60);
			$("#hor").html(" " + add0(hor) + " ");
			$("#min").html(" " + add0(min) + " ");
			$("#sec").html(" " + add0(sec) + " ");
		}
		function updSched() {
			if (timeStampList[getClass().depart][nxtId - 1] == getNowStr()) playMusic(timeStampMusic[getClass().depart][nxtId - 1]);
			preId = nxtId;
			if (nxtId % 2 == 0) $("#nxt").text("当前：" + spanList[Math.floor(nxtId / 2)]);
			else $("#nxt").text("下节：" + spanList[Math.floor(nxtId / 2) + 1]);
			$("#title-pre").text(timeStampDescrPre[getClass().depart][nxtId]);
			let schedNow = schedList[getClass().depart][getClass().grade][getClass().classs][(getAdjDay() + toNxtWorkDay()) % 7 - 1][Math.floor(nxtId / 2)];
			if (schedNow.indexOf("/") != -1 && schedNow.indexOf("H") == -1 && schedNow.indexOf("D") == -1) schedNow = schedNow.split("/")[1 - getWk() % 2];
			$("#title").text(" " + schedNow + " ");
			$("#title-sub").text(timeStampDescrSub[getClass().depart][nxtId]);
		}
		refr();
		setInterval(function () { refr() }, 1000);
		// $.get("https://api.help.bj.cn/apis/weather/?id=101020600", function (data) {
		// 	alert(data.city);
		// })
	</script>
</body>

</html>