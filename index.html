<html lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>countdown111</title>
	<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
	<meta content="width=device-width,height=device-height,initial-scale=1,maximum-scale=1" name="viewport">
	<meta content="" name="keywords">
	<meta content="" name="description">
	<link href="https://coa.sesedu.cn/dist/css/common.min.css" rel="stylesheet">
	<link href="https://coa.sesedu.cn/font-awesome/css/all.min.css" rel="stylesheet">
	<style>
		.cd-time {
			font-size: 6.5rem;
			color: red;
			white-space: pre;
		}

		.cd-descr {
			font-size: 2rem;
		}

		.cd-title {
			font-size: 6rem;
			color: red;
			white-space: pre;
		}
	</style>
</head>

<body>
	<div>
		<div class="text-center py-5" style="font-weight: 2">
			<b class="cd-descr">距离</b>
			<a class="cd-title" id="title"> 2022年 </a>
			<b class="cd-descr" id="descr">还有</b>
		</div>
		<div class="text-center" id="cd-time">
			<a class="cd-time" id="hor"> 00 </a> <b class="cd-descr">小时</b>
			<a class="cd-time" id="min"> 00 </a> <b class="cd-descr">分钟</b>
			<a class="cd-time" id="sec"> 00 </a> <b class="cd-descr">秒</b>
		</div>
	</div>
	<script>
		let sched = ["0800", "0840", "0850", "0930", "0940", "1020", "1045", "1125", "1230", "1310", "1320", "1400", "1410", "1450", "1510", "1550", "1600", "1650", "1651", "2400"];
		let schedDescr = ["第一节课", "-1", "第二节课", "-1", "第三节课", "-1", "第四节课", "-1", "第五节课", "-1", "第六节课", "-1", "第七节课", "-1", "第八节课", "-1", "第九节课", "-1", "明天", "-1"];
		
	</script>
	<script>
		function nxtEventId() {
			let nowStr = new Date().getHours().toString() + new Date().getMinutes().toString;
			let i;
			for (i = 0; i < sched.length; i++) {
				if (nowStr < sched[i]) return i;
			}
		}
		function str2time(n) {
			let todayStart = new Date().getTime() - new Date().getHours() * 60 * 60 * 1000 - new Date().getMinutes() * 60 * 1000 - new Date().getSeconds() * 1000 - new Date().getMilliseconds();
			let thisHour = parseInt(sched[n].substring(0, 2));
			let thisMin = parseInt(sched[n].substring(2, 4));
			let nowTime = todayStart + thisHour * 60 * 60 * 1000 + thisMin * 60 * 1000;
			return nowTime;
		}
		function showTime() {
			let delta = str2time(nxtEventId()) - new Date().getTime();
			if (schedDescr[nxtEventId()] == "-1") document.getElementById("title").innerText = " " + schedDescr[nxtEventId() - 1] + "下课 ";
			else document.getElementById("title").innerText = " " + schedDescr[nxtEventId() - 1] + "上课 ";
			delta = delta / 1000;
			let hor = Math.floor(delta / 3600);
			let min = Math.floor(delta / 60 - hor * 60);
			let sec = Math.floor(delta - hor * 3600 - min * 60);
			document.getElementById("hor").innerHTML = " " + ("0" + hor).substr(-2) + " ";
			document.getElementById("min").innerHTML = " " + ("0" + min).substr(-2) + " ";
			document.getElementById("sec").innerHTML = " " + ("0" + sec).substr(-2) + " ";
		}
		setInterval(function () { showTime() }, 1000);
	</script>
</body>

</html>